# String Class

## String
String í´ë˜ìŠ¤ê°€ í•  ê²Œ ì œì¼ ë§ë‹¤.
ğŸ¤” ì™œ ì œì¼ ë§ì„ê¹Œ ?

ìš°ë¦¬ê°€ ë³´í†µ í”„ë¡œê·¸ë˜ë° ì‘ì—…ì„ í•œë‹¤ë©´ ê¸°ë³¸ì ìœ¼ë¡œ dataë¥¼ ì¡°ì‘í•œë‹¤ë˜ì§€..? ì¡°ì‘í•œ dataì— ëŒ€í•´ì„œ í™”ë©´ì— ì¶œë ¥í•  ìˆ˜ ìˆë‹¤. ê·¸ ì™¸ ì—¬ëŸ¬ê°€ì§€ë„ ë§ê² ì§€ë§Œ ë§ì´ë‹¤.

ê·¸ ì¤‘ì— Data Type ì˜ ê²½ìš°, ìˆ«ìí˜• int, double... / ë¬¸ì íƒ€ì…(char) / ë¬¸ìì—´ (String) / ë‚ ì§œ (Date)..

ì´ ì¤‘ ê°€ì¥ ë§ì´ ì“°ê²Œ ë˜ëŠ” ê²ƒì´ String í´ë˜ìŠ¤ì´ë‹¤. ì‹¤ì œë¡œë„ ë§ì´ ì“°ì´ëŠ”ë°.. í´ë˜ìŠ¤ ì¤‘ì—ì„œ _ë”í•˜ê¸° ì—°ì‚°_ì„ ì œê³µí•˜ëŠ” í´ë˜ìŠ¤ëŠ” Stringë§Œì´ ì¡´ì¬í•œë‹¤.


>The String class represents character strings. All string literals in Java programs, such as "abc", are implemented as instances of this class.

String í´ë˜ìŠ¤ëŠ” ë¬¸ìì—´ì„ ë‚˜íƒ€ë‚¸ë‹¤. "abc"ì™€ ê°™ì€ java í”„ë¡œê·¸ë¨ì˜ ëª¨ë“  ë¬¸ìì—´ _ë¦¬í„°ëŸ´_ì€ ì´ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ êµ¬í˜„ëœë‹¤.

>Strings are constant; their values cannot be changed after they are created. String buffers support mutable strings. Because String objects are immutable they can be shared.

ë¬¸ìì—´ì€ _ìƒìˆ˜_ë‹¤. **ìƒì„±ëœ í›„ì—ëŠ” í•´ë‹¹ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.**
StringBufferëŠ” ë³€ê²½ ê°€ëŠ¥í•œ ë¬¸ìì—´ì„ ì§€ì›í•œë‹¤. String ê°œì²´ëŠ” ë³€ê²½í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ê³µìœ í•  ìˆ˜ ìˆë‹¤.

ê·¸ë ‡ë‹¤. String í´ë˜ìŠ¤ëŠ” ë³€ê²½ì´ ë¶ˆê°€ëŠ¥(Immutable)í•˜ë‹¤. í•œ ë²ˆ ìƒì„±ëœ ê²ƒì€ ë°”ê¿€ ìˆ˜ ì—†ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë‘ ë¬¸ìë¥¼ ë”í•´ì„œ ë‚˜ì˜¨ ë¬¸ìì—´ì€ ì•„ì˜ˆ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í–ˆë‹¤ëŠ” ê²ƒì´ë‹¤.


***

ì™œ ë¶ˆë³€ í´ë˜ìŠ¤ì¼ê¹Œ?
finalì´ê¸°ì— ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.
```java
    private final byte[] value;
```
***


```java
	String a = "a"; // 0x100
	String b = "b"; // 0x200
	a = a + b; 	// 0x300
	System.out.print(a); // ì¶œë ¥ ì‹œ -> ab 
```

Javaì—ì„œ Stringì€ **ì›ì‹œíƒ€ì…(primitive type) ê°™ì´ ë³´ì´ì§€ë§Œ ì‹¤ì€ ì°¸ì¡°í˜• í´ë˜ìŠ¤ê°ì²´**ì´ë‹¤. ìœ„ ì½”ë“œì—ì„œë„ ë§ˆì°¬ê°€ì§€ë¡œ ë”í•˜ê¸° ì—°ì‚°ì„ í•˜ê³  ìˆì§€ ì•Šì€ê°€? ê·¸ë˜ì„œ ì›ì‹œíƒ€ì…ì²˜ëŸ¼ ì“°ì´ì§€ë§Œ ì°¸ì¡°í˜• í´ë˜ìŠ¤ë¼ëŠ” ê²ƒì´ë‹¤.

ì›ì‹œ(ê¸°ë³¸)íƒ€ì…ì€ **ì‹¤ì œ ë°ì´í„°ê°’ì„ ì €ì¥í•˜ëŠ” íƒ€ì…**ì´ê³ , ì°¸ì¡° íƒ€ì…ì€ **ê°ì²´ì˜ ì£¼ì†Œë¥¼ ì €ì¥í•˜ëŠ” íƒ€ì…**ì´ë‹¤.

ë•Œë¬¸ì— ì„œë¡œì˜ ê°’ì„ í™•ì¸í•  ë•Œ == ë¹„êµì—°ì‚°ìë³´ë‹¤ .equals() ë©”ì„œë“œë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ ê·¸ ì´ìœ ì´ë‹¤.

ì‹¤ì œ ê°ì²´ëŠ” **Heap ì˜ì—­**ì— ì €ì¥ë˜ê³ , ì°¸ì¡° íƒ€ì…ì˜ ë³€ìˆ˜ëŠ” **Stack ì˜ì—­**ì— ê°ì²´ë“¤ì˜ ì£¼ì†Œê°€ ì €ì¥ë˜ì–´ì„œ ê°ì²´ë¥¼ ì‚¬ìš©í•  ë•Œë§ˆë‹¤ ê·¸ ê°ì²´ì˜ ì£¼ì†Œë¥¼ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤.

Stringì€ ì›ì‹œíƒ€ì… **ê°™ì´** ë³´ì´ì§€ë§Œ **ì°¸ì¡°í˜• í´ë˜ìŠ¤**ë¼ê³  í–ˆë‹¤.
Stringí´ë˜ìŠ¤ëŠ” íŠ¹ë³„í•˜ê²Œë„ ì›ì‹œê°’ ì´ˆê¸°í™”(_ë¦¬í„°ëŸ´_ ex -> int age = 27; // Stringì—ì„œëŠ” ìŒë”°ì˜´í‘œ (""))ë„ ê°€ëŠ¥í•˜ê³ , new ì—°ì‚°ìë¡œ ì´ˆê¸°í™”ë„ ê°€ëŠ¥í•˜ë‹¤.

```java
String test1 = "TEST"; // ë¦¬í„°ëŸ´
String test2 = "TEST";
String test3 = new String("TEST"); // new ì—°ì‚° (ê°ì²´)
String test4 = new String("TEST");
```

ì—¬ëŸ¬ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì € new ì—°ì‚°ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ë°©ë²•ì€ ì§€ì–‘í•œë‹¤. ì™œì¼ê¹Œ? ì¼ë‹¨, ê·¸ ì „ì— ìê¾¸ ë¦¬í„°ëŸ´ì´ ë‚˜ì˜¤ëŠ”ë° ë¦¬í„°ëŸ´ì´ ë¬´ì—‡ì¸ì§€ë¶€í„° ì•Œê³  ì§€ì–‘í•˜ëŠ” ì´ìœ ì— ëŒ€í•´ ì•Œì•„ë³´ì.
***
## ë¦¬í„°ëŸ´?
ë¦¬í„°ëŸ´ì´ë€ ë°ì´í„° ê·¸ ìì²´ë¥¼ ì˜ë¯¸í•œë‹¤. ë³€ìˆ˜ì— ë„£ëŠ” **ë³€í•˜ì§€ ì•ŠëŠ” ë°ì´í„°**ë¥¼ ì˜ë¯¸í•œë‹¤. ìœ„ì—ì„œ ë´¤ë“¯ì´ ì˜ˆë¥¼ ë“¤ë©´
```java
int a = 1;
```
ì´ëŸ° ì‹ì´ë‹¤. ì•ì— finalì„ ë¶™ì´ë©´ aëŠ” ìƒìˆ˜ê°€ ë˜ë©°, 1ì€ ë¦¬í„°ëŸ´ì´ ëœë‹¤.

ë°ì´í„°ê°€ ë³€í•˜ì§€ ì•Šë„ë¡ ì„¤ê³„í•œ í´ë˜ìŠ¤ë¥¼ ë¶ˆë³€ í´ë˜ìŠ¤ë¼ í•œë‹¤. ì´ í´ë˜ìŠ¤ëŠ” í•œ ë²ˆ ìƒì„±í•˜ë©´ ê°ì²´ ì•ˆì˜ ë°ì´í„°ê°€ ë³€í•˜ì§€ ì•Šìœ¼ë©° ë³€í•  ìƒí™©ì´ë¼ë©´ ì•„ì˜ˆ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë²„ë¦°ë‹¤.

ê·¸ë˜ì„œ Stringì€ ë¶ˆë³€ í´ë˜ìŠ¤ë¼ê³  ë§í•  ìˆ˜ ìˆë‹¤. ë•Œë¬¸ì— "ab"ê°™ì€ ë¬¸ìì—´ì„ ë¦¬í„°ëŸ´ì´ë¼ ë¶€ë¥¸ë‹¤.

ìƒìˆ˜ë„ ë³€í•˜ì§€ ì•ŠëŠ” ê°’ì´ ì•„ë‹ˆë˜ê°€? ê·¸ëŸ¬ë©´ ìƒìˆ˜ì™€ ë¦¬í„°ëŸ´ì€ ê°™ì€ ëœ»ì¼ê¹Œ? ì „í˜€ ë‹¤ë¥´ë‹¤. ì´ì— ëŒ€í•œ ë‚´ìš©ì€ [ìƒìˆ˜ì™€ ë¦¬í„°ëŸ´](https://mommoo.tistory.com/14)ì—ì„œ í™•ì¸í•´ ë³´ì.

ps) ğŸ™‡â€â™‚ï¸ í•´ë‹¹ ê¸€ ë³´ê³  ì‰½ê²Œ ì´í•´í–ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤ !!

***
## ë¦¬í„°ëŸ´("")ê³¼ String Constant Pool

ğŸ“ŒString Constant Pool ì´ë€ ? **Heap ì˜ì—­ ë‚´ë¶€**ì—ì„œ String ê°ì²´ë¥¼ ìœ„í•´ ë³„ë„ë¡œ ê´€ë¦¬í•˜ëŠ” ì €ì¥ì†Œì´ë‹¤.

new ì—°ì‚°ìê°€ ì•„ë‹Œ ë¦¬í„°ëŸ´("")ë¡œ ìƒì„±í•˜ê²Œ ë˜ë©´ JVMì€ String Constant Pool ì˜ì—­ìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤. test1ê³¼ test2ëŠ” ë¦¬í„°ëŸ´ë¡œ ì´ˆê¸°í™”í•˜ì˜€ìœ¼ë©° ê°™ì€ ë¬¸ìì—´ì´ ê³µìœ í•  ìˆ˜ ìˆê²Œ ë˜ì–´ ë©”ëª¨ë¦¬ë¥¼ ì¡°ê¸ˆ ë” íš¨ìœ¨ì ìœ¼ë¡œ ì“¸ ìˆ˜ ìˆê²Œ ëœë‹¤.

ë°˜ë©´ì—, new ì—°ì‚°ìë¥¼ ì´ìš©í•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±í•˜ê²Œ ë˜ë©´ Heap ì˜ì—­ìœ¼ë¡œ ë“¤ì–´ê°€ ê°™ì€ ë¬¸ìì—´ì´ë¼ë„ ì„œë¡œ ë‹¤ë¥¸ ì£¼ì†Œê°’ì„ ë‚˜íƒ€ë‚¸ë‹¤. ê·¸ë ‡ê²Œ ë˜ë©´ ë©”ëª¨ë¦¬ ê³µê°„ì´ ë¹„íš¨ìœ¨ì ì´ê¸°ì— ì´ë¥¼ ì§€ì–‘í•˜ëŠ” ê²ƒì´ë‹¤.

ë¦¬í„°ëŸ´ë¡œ ì„ ì–¸í•  ê²½ìš° String í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œëŠ” ì–´ë–»ê²Œ ë™ì‘í• ê¹Œ?

ë‚´ë¶€ì ìœ¼ë¡œ ë„ˆë¬´ ë³µì¡í•˜ê¸°ì— ê°„ë‹¨íˆ ë§í•˜ìë©´ intern() ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤.
### intern()

Stringì—ì„œ ê°’ì„ ë¹„êµí•  ë•Œ .equals()ë¥¼ ì´ìš©í•œë‹¤. == ë¹„êµì—°ì‚°ìë¥¼ ì•„ì˜ˆ ì“°ì§€ ì•ŠëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ë¦¬í„°ëŸ´ë¡œ ìƒì„±ëœ ê°ì²´ì™€ new ì—°ì‚°ìë¥¼ ì´ìš©í•œ ê°ì²´ì˜ ë¹„êµë¥¼ ìœ„í•  ë•Œê°€ ìˆë‹¤. ê·¸ëŸ´ ë•Œ ì‚¬ìš©í•˜ëŠ” ê²Œ internì´ë‹¤.

```java 
String test1 = "TEST"; // ë¦¬í„°ëŸ´
String test2 = new String("TEST"); // new ì—°ì‚° (ê°ì²´)
String test3 = test2.intern(); // intern

System.out.println(test1 == test2); // false
System.out.println(test1 == test3); // true
```

ì•ì—ì„œ ë³´ì•˜ë“¯ì´ ì²« ë²ˆì§¸ ì¶œë ¥ì—ì„œëŠ” ë‹¹ì—°íˆ false ê°€ ë‚˜ì˜¬ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ë‘ ë²ˆì§¸ ì¶œë ¥ì€ true ê°’ì´ ë‚˜ì˜¨ë‹¤.

test1ì²˜ëŸ¼ ë¦¬í„°ëŸ´ì€ poolì— í•´ë‹¹ ê°’ì´ ìˆë‹¤ë©´ ê·¸ë¥¼ ì°¸ì¡°í•œë‹¤. new ì—°ì‚°ìœ¼ë¡œ ìƒì„±ëœ ê°ì²´ë¼ í•˜ë”ë¼ë„ intern() ë©”ì„œë“œë¥¼ ì´ìš©í•˜ë©´ ì„œë¡œê°€ ê°™ìŒì„ í‘œì‹œí•œë‹¤.

== ë¹„êµì—°ì‚°ìë¡œ ì„œë¡œì˜ ê°’ì„ ë¹„êµí•˜ëŠ” ê²ƒì´ equals()ë©”ì„œë“œë³´ë‹¤ í›¨ì”¬ ë¹ ë¥´ë‹¤. í•˜ì§€ë§Œ intern() ë©”ì„œë“œì˜ ì‚¬ìš©ì€ ì ˆëŒ€ ì§€ì–‘í•´ì•¼í•œë‹¤.

ì™œì¼ê¹Œ?

ìƒˆë¡œìš´ ë¬¸ìì—´ì„ ê³„ì† ë§Œë“¤ì–´ ë‚´ëŠ” í”„ë¡œê·¸ë¨ì—ì„œ intern() ë©”ì„œë“œë¥¼ ì´ìš©í•´ ê°’ë“¤ì„ ì–µì§€ë¡œ poolì— í• ë‹¹í•˜ë„ë¡ ë§Œë“¤ë©´, ì˜ì—­ ë‚´ì—ëŠ” í•œê³„ê°€ ìˆê¸°ì— ê·¸ ì˜ì—­ì— ëŒ€í•´ ë³„ë„ë¡œ ë©”ëª¨ë¦¬ë¥¼ ì²­ì†Œí•˜ëŠ” ë‹¨ê³„ë¥¼ ê±°ì¹œë‹¤.

ì´ ì—°ì‚° í•˜ë‚˜ í•˜ê² ë‹¤ê³  ì „ì²´ ì‹œìŠ¤í…œ ì„±ëŠ¥ì„ ì €í•˜ì‹œí‚¤ëŠ” ì¼ì€ ì§€ì–‘í•´ì•¼ë§Œ í•œë‹¤. ë¬¼ë¡  ê·¸ ë¬¸ìì—´ì— ëŒ€í•´ì„œë§Œ ì‚¬ìš©í•œë‹¤ë©´ í° ë¬¸ì œëŠ” ì—†ê² ì§€ë§Œ ìƒì„±ë˜ëŠ” ë¬¸ìì—´ì´ ì™„ì „íˆ ì •í•´ì ¸ ìˆëŠ” ê²ƒì€ ì—†ê¸°ì— ì“¸ ì¼ì€ ì—†ë„ë¡ í•´ì•¼í•œë‹¤.

String í´ë˜ìŠ¤ ë‚´ë¶€ì— ìˆëŠ” intern() ë©”ì„œë“œì˜ ì„¤ëª…ê³¼ ì½”ë“œë¥¼ ê°€ì ¸ì™”ë‹¤.
>ë¬¸ìì—´ ê°œì²´ì— ëŒ€í•œ ì •ì‹ í‘œí˜„ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
ì´ˆê¸°ì— ë¹„ì–´ ìˆëŠ” ë¬¸ìì—´ í’€ì€ String í´ë˜ìŠ¤ì— ì˜í•´ ë¹„ê³µê°œë¡œ ìœ ì§€ë©ë‹ˆë‹¤.
intern ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œ í’€ì´ equals(Object) ë©”ì„œë“œì— ì˜í•´ ê²°ì •ëœ ëŒ€ë¡œ ì´ String ê°œì²´ì™€ ë™ì¼í•œ ë¬¸ìì—´ì„ ì´ë¯¸ í¬í•¨í•˜ê³  ìˆìœ¼ë©´ í’€ì˜ ë¬¸ìì—´ì´ ë°˜í™˜ë©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì´ String ê°œì²´ê°€ í’€ì— ì¶”ê°€ë˜ê³  ì´ String ê°œì²´ì— ëŒ€í•œ ì°¸ì¡°ê°€ ë°˜í™˜ë©ë‹ˆë‹¤.
ì„ì˜ì˜ ë‘ ë¬¸ìì—´ s ë° t ì— s.intern() == t.intern() ì€ s.equals(t) ê°€ true ì¸ ê²½ìš°ì—ë§Œ true ì…ë‹ˆë‹¤.
ëª¨ë“  ë¦¬í„°ëŸ´ ë¬¸ìì—´ê³¼ ë¬¸ìì—´ ê°’ ìƒìˆ˜ í‘œí˜„ì‹ì€ ì¸í„´ë©ë‹ˆë‹¤. ë¬¸ìì—´ ë¦¬í„°ëŸ´ì€ The Javaâ„¢ Language Specificationì˜ ì„¹ì…˜ 3.10.5ì— ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
ë³´ê³ :
ì´ ë¬¸ìì—´ê³¼ ë‚´ìš©ì´ ê°™ì§€ë§Œ ê³ ìœ í•œ ë¬¸ìì—´ í’€ì—ì„œ ê°€ì ¸ì˜¨ ë¬¸ìì—´ì…ë‹ˆë‹¤.
jls
3.10.5 ë¬¸ìì—´ ë¦¬í„°ëŸ´

```java
public native String intern();
```

#### ğŸ“Œ native ? Javaê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì–¸ì–´ë¡œ êµ¬í˜„í•œ í›„ Javaì—ì„œ ì‚¬ìš©í•˜ë ¤ í•  ë•Œ ì´ìš©í•˜ëŠ” í‚¤ì›Œë“œ.

***

Stringì€ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤ê³  í–ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ "a"ì™€ "b"ë¥¼ **ë”í•´** "ab"ë¡œ ë³€ê²½í•˜ê³  ì‹¶ì§€ë§Œ ì´ëŠ” ë³€ê²½ì´ ì•„ë‹Œ ìƒˆë¡œìš´ ê°ì²´ì˜ ìƒì„±ìœ¼ë¡œ ë³¸ë‹¤. í•˜ì§€ë§Œ ë³€ê²½ì´ ê°€ëŠ¥í•œ Stringê³¼ ë¹„ìŠ·í•œ í´ë˜ìŠ¤ê°€ ìˆë‹¤. ê·¸ê²ƒì´ ë°”ë¡œ...

## StringBuffer
ì§§ê²Œ ì•Œì•„ë³´ìë©´..
>A thread-safe, mutable sequence of characters.

ìŠ¤ë ˆë“œë¡œë¶€í„° ì•ˆì „í•˜ê³  ë³€ê²½ ê°€ëŠ¥í•œ ë¬¸ì ì‹œí€€ìŠ¤ì´ë‹¤.

ğŸ¤”ìŠ¤ë ˆë“œë¡œë¶€í„° ì•ˆì „í•˜ë©´ ë­ê°€ ì¢‹ì„ê¹Œ..?
ì§§ê²Œë‚˜ë§ˆ ì•Œì•„ ë³¸ ê²°ê³¼ë¡œëŠ”...  ì¼ë‹¨ ìŠ¤ë ˆë“œ ì•ˆì „ì´ë€ ? ë©€í‹° ìŠ¤ë ˆë“œ í”„ë¡œê·¸ë˜ë°ì—ì„œ ì–´ë–¤ í•¨ìˆ˜ë‚˜ ë³€ìˆ˜, í˜¹ì€ ê°ì²´ê°€ ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¡œë¶€í„° ë™ì‹œ ì ‘ê·¼ì´ ì´ë£¨ì–´ì ¸ë„ í”„ë¡œê·¸ë¨ ì‹¤í–‰ì—ëŠ” ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì—†ìŒì„ ëœ»í•œë‹¤.

ìŒ... ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¡œë¶€í„° ë™ì‹œì ‘ê·¼ì´ ì´ë£¨ì–´ì ¸ë„ ë¬¸ì œì—†ìŒì— ì¢‹ì€ ê±° ê°™ë‹¤. ê·¸ë˜ì•¼ ê° ìŠ¤ë ˆë“œì—ì„œì˜ í•¨ìˆ˜ ìˆ˜í–‰ ê²°ê³¼ê°€ ì˜ ì¶œë ¥ë  í…Œë‹ˆê¹Œ.

>The principal operations on a StringBuffer are the append and insert methods, which are overloaded so as to accept data of any type. Each effectively converts a given datum to a string and then appends or inserts the characters of that string to the string buffer. The append method always adds these characters at the end of the buffer; the insert method adds the characters at a specified point.

ì£¼ìš” ì‘ì—…ì€ ëª¨ë“  ìœ í˜•ì˜ ë°ì´í„°ë¥¼ í—ˆìš©í•˜ë„ë¡ ì˜¤ë²„ë¡œë“œ ë˜ëŠ” append, insert ë©”ì„œë“œì´ë‹¤. í•´ë‹¹ ë¬¸ìì—´ì˜ ë¬¸ìë¥¼ ë¬¸ìì—´ ë²„í¼ì— ì¶”ê°€í•˜ê±°ë‚˜ ì‚½ì…í•œë‹¤. append ë©”ì„œë“œëŠ” í•­ìƒ ëì— ì¶”ê°€í•˜ë©°, insert ë©”ì„œë“œëŠ” ì§€ì •ëœ ì§€ì ì— ë¬¸ìë¥¼ ì¶”ê°€í•œë‹¤.

>For example, if z refers to a string buffer object whose current contents are "start", then the method call z.append("le") would cause the string buffer to contain "startle", whereas z.insert(4, "le") would alter the string buffer to contain "starlet".

ì˜ˆë¥¼ ë“¤ìë©´ "start"ë¬¸ìì—´ì— "le"ë¥¼ append í•˜ë©´ "startle"ê°€ ëœë‹¤.
"start"ë¬¸ìì—´ì— insert(4, "le") í•˜ê²Œ ë˜ë©´ "starlet"ê°€ ëœë‹¤. idx(4)ì— ì§€ì •ëœ ë¬¸ì("le")ë¥¼ ì‚½ì…í•˜ê²Œ ëœë‹¤ëŠ” ê²ƒì´ë‹¤.

>Every string buffer has a capacity. As long as the length of the character sequence contained in the string buffer does not exceed the capacity, it is not necessary to allocate a new internal buffer array. If the internal buffer overflows, it is automatically made larger.

ëª¨ë“  ë¬¸ìì—´ ë²„í¼ì—ëŠ” ìš©ëŸ‰ì´ ìˆìœ¼ë©° ë¬¸ìì—´ ê¸¸ì´ê°€ ìš©ëŸ‰ì„ ì´ˆê³¼í•˜ì§€ ì•ŠëŠ” í•œ ìƒˆë¡œìš´ ë‚´ë¶€ ë²„í¼ ë°°ì—´ì„ í• ë‹¹í•  í•„ìš”ê°€ ì—†ë‹¤. **ì˜¤ë²„í”Œë¡œëœë‹¤ë©´ ìë™ìœ¼ë¡œ ë” ì»¤ì§„ë‹¤.**

***

## String + operator


ë”í•˜ëŠ”(+) ì—°ì‚°ì„ ì§€ì–‘í•´ì•¼í•œë‹¤ê³  í•˜ì§€ë§Œ, ìš°ì„  ë¬¸ìì—´ì„ ë”í•˜ëŠ” ì—°ì‚°ì„ í–ˆì„ ë•Œ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ê°„ë‹¨í•˜ê²Œ ì•Œì•„ë³´ì. [+ operator for String in Java](https://stackoverflow.com/questions/2328483/operator-for-string-in-java)
ì— ìˆëŠ” ëŒ“ê¸€ì„ ì¸ìš©í•˜ìë©´..

>Java ì–¸ì–´ëŠ” ë¬¸ìì—´ ì—°ê²° ì—°ì‚°ì( + ) ë° ë‹¤ë¥¸ ê°œì²´ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ëŠ” ë° íŠ¹ë³„í•œ ì§€ì›ì„ ì œê³µí•©ë‹ˆë‹¤. ë¬¸ìì—´ ì—°ê²°ì€ StringBuilder(ë˜ëŠ” StringBuffer) í´ë˜ìŠ¤ì™€ í•´ë‹¹ appendë©”ì„œë“œë¥¼ í†µí•´ êµ¬í˜„ë©ë‹ˆë‹¤. ë¬¸ìì—´ ë³€í™˜ì€ Objectì— ì˜í•´ ì •ì˜ë˜ê³  Javaì˜ ëª¨ë“  í´ë˜ìŠ¤ì—ì„œ ìƒì†ë˜ëŠ” toString ë©”ì„œë“œë¥¼ í†µí•´ êµ¬í˜„ë©ë‹ˆë‹¤. ë¬¸ìì—´ ì—°ê²° ë° ë³€í™˜ì— ëŒ€í•œ ì¶”ê°€ ì •ë³´ëŠ” Gosling, Joy ë° Steele, The Java Language Specification ì„ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤ .

ë¼ê³  í•œë‹¤. (ë¬¼ë¡  String ë‚´ë¶€ì—ì„œ concat ë©”ì„œë“œë„ ì§€ì›í•¨ ì´ ë©”ì„œë“œë„ ë”í•˜ê¸°ê°€ ê°€ëŠ¥.) ë‚´ë¶€ì ìœ¼ë¡œ StringBuilder or StringBuffer í´ë˜ìŠ¤ë¥¼ ë§Œë“  í›„ ë‹¤ì‹œ ë¬¸ìì—´ë¡œ ëŒë ¤ì¤€ë‹¤.

```java
String test1 = "a" + "b"; // ab
String test2 = new StringBuilder("a").append("b").toString(); // ab
```

ì´ë ‡ë‹¤. ì§€ê¸ˆì€ ê°„ë‹¨í•˜ì§€ë§Œ ìˆ˜ë„ì—†ì´ ë¬¸ìì—´ì´ í•©ì³ì§€ëŠ” ì¼ì´ ë¹ˆë²ˆí•  ê²½ìš°, ì„±ëŠ¥ì€ ë–¨ì–´ì§ˆ ê²ƒì´ë©° ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±ë„ í•˜ë½í•œë‹¤.

concat ë©”ì„œë“œë„ ìˆëŠ”ë° êµ³ì´ StringBuffer ë˜ëŠ” StringBuilderë¥¼ ì“°ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œ ? concatì€ ì™œ ì•ˆ ì“°ì´ëŠ”ì§€ ë‚´ë¶€ì ìœ¼ë¡œ ì‚´í´ ë³´ì. ì„¤ëª…ê³¼ í•¨ê»˜ ê¸°ì¬í•˜ê² ë‹¤.
>ì§€ì •ëœ ë¬¸ìì—´ì„ ì´ ë¬¸ìì—´ì˜ ëì— ì—°ê²°í•©ë‹ˆë‹¤.
ì¸ìˆ˜ ë¬¸ìì—´ì˜ ê¸¸ì´ê°€ 0 ì´ë©´ ì´ String ê°ì²´ê°€ ë°˜í™˜ë©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì´ String ê°ì²´ê°€ ë‚˜íƒ€ë‚´ëŠ” ë¬¸ì ì‹œí€€ìŠ¤ì™€ ì¸ìˆ˜ ë¬¸ìì—´ì´ ë‚˜íƒ€ë‚´ëŠ” ë¬¸ì ì‹œí€€ìŠ¤ë¥¼ ì—°ê²°í•œ ë¬¸ì ì‹œí€€ìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ëŠ” String ê°ì²´ê°€ ë°˜í™˜ë©ë‹ˆë‹¤.
ì˜ˆ:
"cares".concat("s") returns "caress"
"to".concat("get").concat("her") returns "together"
ë§¤ê°œë³€ìˆ˜:
str â€“ ì´ String ì˜ ëì— ì—°ê²°ë˜ëŠ” String .
ë³´ê³ :
ë¬¸ìì—´ ì¸ìˆ˜ì˜ ë¬¸ìê°€ ë’¤ë”°ë¥´ëŠ” ì´ ê°œì²´ì˜ ë¬¸ì ì—°ê²°ì„ ë‚˜íƒ€ë‚´ëŠ” ë¬¸ìì—´ì…ë‹ˆë‹¤.



```java
    public String concat(String str) {
        if (str.isEmpty()) {
            return this;
        }
        if (coder() == str.coder()) {
            byte[] val = this.value;
            byte[] oval = str.value;
            int len = val.length + oval.length;
            byte[] buf = Arrays.copyOf(val, len);
            System.arraycopy(oval, 0, buf, val.length, oval.length);
            return new String(buf, coder);
        }
        int len = length();
        int olen = str.length();
        byte[] buf = StringUTF16.newBytesFor(len + olen);
        getBytes(buf, 0, UTF16);
        str.getBytes(buf, len, UTF16);
        return new String(buf, UTF16);
    }
```
ì• ì´ˆì— ì§€ë‚˜ì¹˜ëŠ” ì½”ë“œë“¤ì´ ë„ˆë¬´ ë§ë‹¤. ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ë°°ì—´ì„ ê³„ì†í•˜ì—¬ ì¬êµ¬ì„±í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹˜ëŠ”ë° ì†ë„ê°€ ëŠë ¤ì§€ëŠ” ê±´ ë‹¹ì—°í•˜ë‹¤.
StringBuilderë‚˜ StringBufferëŠ” í¬ê¸°ë¥¼ ë¨¼ì € ì§€ì •í•´ë†“ê³  ì‹œì‘í•˜ê¸°ì—(ìœ„ì—ì„œ ë§í–ˆë“¯ì´ ì˜¤ë²„í”Œë¡œ ë˜ì–´ë„ ìë™ìœ¼ë¡œ ì»¤ì ¸ì„œ ì¢‹ìŒ) ë” ë¹ ë¥´ë‹¤.

í•˜ì§€ë§Œ ë‹¨ìˆœí•˜ê²Œ ë”í•˜ëŠ” ì—°ì‚°ì´ë¼ë©´ + ì—°ì‚°ìë¥¼ ì±„íƒí•˜ëŠ” ê²Œ ë§ê² ë‹¤.

[Stringì€ Builderì™€ ê°™ì§€ ì•Šì„ê¹Œ?](https://sundries-in-myidea.tistory.com/139)
ì¶”ê°€... String + ì—°ì‚°ê³¼ StringBuilder(Buffer) ì–´ì°¨í”¼ ë˜‘ê°™ì€ ê±° ì•„ë‹ê¹Œ? String +ì—°ì‚°ì„ í–ˆì„ ë•Œ ì–´ì°¨í”¼ Builderë‚˜ Bufferë¡œ ë°”ë€Œì–´ì„œ ì—°ì‚°ì´ ë  í…ë° ë§ì´ë‹¤.

Ans) ê·¸ë ‡ì§€ ì•Šë‹¤. Builderë‚˜ BufferëŠ” ë‚´ë¶€ì ìœ¼ë¡œ í•œ ë¡œì§ì˜ íë¦„ìœ¼ë¡œ ê³„ì† ì´ì–´ì§€ëŠ” ë°˜ë©´ Stringì€ Builderë¥¼ ìƒì„±í•˜ì—¬ ì´ˆê¸°í™”í•˜ê³  Appendì‘ì—…ì´ ì´ë£¨ì–´ì ¸ toStringê¹Œì§€ ì°ì€ í›„ ë‹¤ì‹œ Builderë¥¼ ì´ˆê¸°í™”í•˜ì—¬ ë°˜ë³µí•˜ëŠ” ë°©ì‹ì´ê¸°ì— í›¨ì”¬ ëŠë¦¬ê³  ë©”ëª¨ë¦¬ì–‘ë„ ëŠ˜ì–´ë‚  ë¿ì´ë‹¤.

Builderì˜ ë¡œì§ íë¦„ì€ [stackoverflow](https://stackoverflow.com/questions/46512888/how-is-string-concatenation-implemented-in-java-9)ì—ì„œ ì‰½ê²Œ ì•Œì•„ë³¼ ìˆ˜ ìˆì—ˆë‹¤.
```java
        long start1 = System.currentTimeMillis();
        String test1 = "aa";
        for (int i = 0; i <1000000; i++) {
            test1= test1 + "aa";
        }
        long end1 = System.currentTimeMillis()-start1;
        System.out.println("String : " + end1);




        long start2 = System.currentTimeMillis();
        StringBuilder test2 = new StringBuilder("aa");
        for (int i = 0; i < 1000000; i++) {
            test2.append("aa");
        }
        long end2 = System.currentTimeMillis()-start2;
        System.out.println("StringBuilder : " + end2);




        long start3 = System.currentTimeMillis();
        StringBuffer test3 = new StringBuffer("aa");
        for (int i = 0; i < 1000000; i++) {
            test3.append("aa");
        }
        long end3 = System.currentTimeMillis()-start3;
        System.out.println("StringBuffer : " + end3);
        
        // ê²°ê³¼
        String : 137653
		StringBuilder : 15
		StringBuffer : 21
```

## ğŸ“Œ Builderì™€ Bufferì˜ ì°¨ì´ì ? (ì¤‘ìš”)

ì„œë¡œ ê°™ì§€ë§Œ [ì°¨ì´ì ](https://velog.io/@heoseungyeon/StringBuilder%EC%99%80-StringBuffer%EB%8A%94-%EB%AC%B4%EC%8A%A8-%EC%B0%A8%EC%9D%B4%EA%B0%80-%EC%9E%88%EB%8A%94%EA%B0%80#2-stringbuilder-vs-stringbuffer) í•˜ë‚˜ê°€ ìˆëŠ”ë° ê·¸ê²ƒì´ ë°”ë¡œ ë™ê¸°í™”(Synchronization)ì´ë‹¤.

BuilderëŠ” ë™ê¸°í™”ë¥¼ ì§€ì›í•˜ì§€ ì•Šìœ¼ë©° ì†ë„ë©´ì—ì„œëŠ” Bufferë³´ë‹¤ ë¹ ë¥´ë‹¤. ê·¸ë˜ì„œ ìœ„ì˜ ì½”ë“œì—ì„œë§Œ ë´ë„ Builderê°€ ê°€ì¥ ë¹¨ëìŒì„ ì•Œ ìˆ˜ ìˆë‹¤. ë™ê¸°í™”ë¥¼ ì§€ì›í•˜ì§€ ì•Šì•„ì„œ ë‹¨ì¼ ìŠ¤ë ˆë“œì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

BufferëŠ” ë™ê¸°í™”ë¥¼ ì§€ì›í•˜ì—¬ ë©€í‹° ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œë„ ì•ˆì „í•˜ê²Œ ë™ì‘í•  ìˆ˜ ìˆë‹¤.
ê·¸ë˜ì„œ ë©€í‹° ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ë¬¸ìì—´ì˜ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ ë“±ì´ ë¹ˆë²ˆíˆ ë°œìƒí•˜ëŠ” ê²½ìš°ì—ëŠ” Bufferë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

ì‰½ê²Œ ì´í•´í–ˆìŠµë‹ˆë‹¤. ì°¨ì´ì ì„ ê¸°ì¬í•´ì£¼ì‹  ë¶„ê»˜ ê°ì‚¬ì¸ì‚¬ë¥¼ ë“œë¦½ë‹ˆë‹¤.ğŸ™‡â€â™‚ï¸

***
ì¶”ê°€ë¡œ ê¶ê¸ˆí–ˆë˜ ê²ƒ...
String pool ê³¼ Constant poolì€ ë‹¤ë¥¸ê±¸ê¹Œ? ê°™ì€ê±¸ê¹Œ?
https://stackoverflow.com/questions/23252767/string-pool-vs-constant-pool ë¥¼ ë´ë„.. ë­”ê°€ ì´í•´ê°€ ì•ˆ ëœë‹¤.
